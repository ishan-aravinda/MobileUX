<!DOCTYPE html>
<html>

<head>

    <title>Sign up with email</title>



    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="robots" content="noindex, nofollow">
    <!--    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">-->
    <!-- Include JQuery Mobile -->
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>


    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Include CSS File Here -->
    <link rel="stylesheet" href="css/signin.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <style>

        body {
            background-image: url("./images/bg.png ");
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center center; 
            background-attachment: fixed; 
        }

        .ui-page {
            background: transparent;
        }

        .ui-content {
            background: transparent;
        }

    </style>

</head>

<body class="text-center">
    <div data-role="page">
        <div data-role="content">
            <div data-role="none" class="container">
                    <form data-role="none" class="form-signup" method="post" action="#">
                        <h1 class="h3 mb-5 font-weight-normal h2-style">Sign up with email</h1>

                        <label data-role="none" for="inputEmail" class="sr-only">Email address</label>
                        <input style="color: white;" data-role="none" type="text" id="email" class="form-control" placeholder="Email address" required autofocus>
                        <br>
                        <label data-role="none" for="inputFirstname" class="sr-only">First name</label>
                        <input style="color: white;" data-role="none" type="text" name="fname" id="fname" class="form-control form-swe" placeholder="First name" required autofocus>
                        <br>
                        <label data-role="none" for="inputLastname" class="sr-only">Last name</label>
                        <input style="color: white;" data-role="none" type="text" name="lname" id="lname" class="form-control form-swe" placeholder="Last name" required autofocus>
                        <br>
                        <label data-role="none" for="inputPassword" class="sr-only">Password</label>
                        <input style="color: white;" data-role="none" type="password" name="password" id="password" class="form-control form-swe form-swe2" placeholder="Password" required autofocus>
                        <br>
                        <button data-role="none" class="btn btn-lg btn-success btn-block" type="button" name="SignUp" id="SignUp" value="SignUp" onclick="register()">Sign Up</button>



                    </form>
                </div>
            
        </div>

        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
        <!-- <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-analytics.js"></script> -->

        <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase.js"></script>
        <script src="js/firebase_init.js"></script>
        <script src="js/CookieFunctions.js"></script>

        <script>
            function register() {

                var email = document.getElementById("email").value;
                var fname = document.getElementById("fname").value;
                var lname = document.getElementById("lname").value;
                var password = document.getElementById("password").value;

                firebase.auth().createUserWithEmailAndPassword(email, password).then(function (e) {
                    firebase.database().ref('users/' + e.user.uid).set({
                        email: email,
                        fname: fname,
                        lname: lname
                    });

                    alert("sign up success");

                }).catch(function (error) {
                    // Handle Errors here.
                    var errorCode = error.code;
                    var errorMessage = error.message;
                    console.log(errorMessage);
                });
            }
        </script>

        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>

</html>